# Домашнее задание к занятию "`Базы данных, их типы`" - `Скакун Михаил`


### Инструкция по выполнению домашнего задания

   1. Сделайте `fork` данного репозитория к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/git-hw или  https://github.com/имя-вашего-репозитория/7-1-ansible-hw).
   2. Выполните клонирование данного репозитория к себе на ПК с помощью команды `git clone`.
   3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
      - впишите вверху название занятия и вашу фамилию и имя
      - в каждом задании добавьте решение в требуемом виде (текст/код/скриншоты/ссылка)
      - для корректного добавления скриншотов воспользуйтесь [инструкцией "Как вставить скриншот в шаблон с решением](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md)
      - при оформлении используйте возможности языка разметки md (коротко об этом можно посмотреть в [инструкции  по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md))
   4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`);
   5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
   6. Любые вопросы по выполнению заданий спрашивайте в чате учебной группы и/или в разделе “Вопросы по заданию” в личном кабинете.
   
Желаем успехов в выполнении домашнего задания!
   
### Дополнительные материалы, которые могут быть полезны для выполнения задания

1. [Руководство по оформлению Markdown файлов](https://gist.github.com/Jekins/2bf2d0638163f1294637#Code)

---

### Задание 1

Задание 1. СУБД
Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

Приведите ответ в свободной форме.



Решение по выбору СУБД для каждой задачи
1.1. Бюджетирование проектов и финансовая аналитика
Для этой задачи оптимально подойдет реляционная СУБД (например, PostgreSQL или Oracle Database), поскольку:

Необходима строгая структура данных и соблюдение транзакционной целостности (ACID).
Такие СУБД обеспечивают гибкость для сложных аналитических запросов и финансового прогнозирования.
1.1. Хеширование:*
Для ускорения хеширования можно использовать API, оптимизированные под многопоточные вычисления, такие как Blake3, MD5 (для простых задач), или библиотеки, поддерживающие GPU-ускорение (например, CUDA для NVIDIA). Также можно задействовать облачные сервисы для выполнения хеширования на мощных вычислительных узлах.

1.2. Лендинги и CRM
Для лендингов и CRM лучше всего подходят NoSQL-СУБД, такие как:

MongoDB для лендингов: гибкая схема данных, удобство работы с JSON-документами, высокая скорость работы.
PostgreSQL (или специализированные CRM-системы) для CRM: строгая структура данных, поддержка интеграции и возможность создания сложных отчетов.
1.2. Единая СУБД:*
Да, задачу можно решить одной СУБД — например, PostgreSQL:

Она поддерживает как реляционные таблицы, так и JSON-объекты.
Можно хранить структурированные данные (например, для CRM) и неструктурированные данные (для лендингов).
1.3. База по корпоративным нормам и обучающим материалам
Оптимально подойдет реляционная СУБД, например, PostgreSQL:

Простая структура, возможность хранить структурированные документы и связать их с разделами компании.
Функционал полнотекстового поиска, что важно для поиска по обучающим материалам.
1.3. Использование уже существующей СУБД:*
Эту задачу можно реализовать в рамках уже выбранной СУБД из задачи 1.1 или 1.2. Например:

Добавить отдельную схему в PostgreSQL.
В случае MongoDB хранить документы и материалы в коллекциях.
1.4. Логистика и маршруты
Для работы с маршрутами и связями отлично подойдет графовая СУБД, такая как Neo4j:

Она оптимизирована для поиска кратчайших путей, анализа связей и работы с графовыми структурами.
Быстро обрабатывает запросы о доставке и распределении ресурсов.
1.4. Интеграция с отделом закупок:*
Для отдела закупок лучше использовать ту же графовую СУБД, чтобы объединить данные по маршрутам, поставщикам и складам. Это позволит:

Визуализировать связи между поставщиками, складами и объектами.
Формировать маршруты с учетом доступности ресурсов.
1.5.* Единая СУБД для всех задач
Технически все задачи можно решить с помощью PostgreSQL, поскольку она:

Поддерживает реляционные таблицы для финансовой аналитики и корпоративных норм.
Позволяет хранить JSON-объекты для лендингов и CRM.
Имеет расширения, такие как pgRouting, для работы с графами и логистикой.
Однако использование единой СУБД может усложнить администрирование и снижение производительности для высокоспециализированных задач, таких как логистика.

### Задание 2

Задание 2. Транзакции
2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

Приведите ответ в свободной форме.



2.1 Процесс пополнения баланса телефона вручную
Инициация платежа
Пользователь вводит номер телефона и сумму пополнения в приложении, на сайте или через терминал.

Проверка корректности данных
Система проверяет:

Действительность номера телефона.
Соответствие суммы установленным ограничениям (минимальная и максимальная сумма).
Создание транзакции

Генерируется уникальный идентификатор транзакции.
Временное сохранение данных транзакции (номер телефона, сумма, инициатор).
Проверка доступности средств

Система связывается с банком пользователя (или электронным кошельком) для проверки баланса.
В случае недостаточности средств уведомляет пользователя.
Обработка платежа

Списание средств с банковского счета пользователя.
Перевод средств на виртуальный счет оператора связи.
Подтверждение и обновление баланса

Оператор связи получает уведомление о зачислении средств и обновляет баланс телефона.
Пользователю отправляется уведомление об успешном пополнении (SMS, push-уведомление, чек).


2.2 Процесс пополнения через автоплатеж
Настройка автоплатежа
Пользователь заранее задает параметры автоплатежа:

Номер телефона.
Порог баланса, при котором пополнение автоматически активируется.
Сумма пополнения.
Источник списания средств.
Мониторинг баланса

Система оператора связи или платежного сервиса регулярно проверяет текущий баланс телефона.
Инициация автоплатежа

При достижении минимального порога баланса создается автоматический запрос на пополнение.
Генерируется транзакция так же, как в случае ручного пополнения.
Проверка доступности средств

Система связывается с банком или кошельком для проверки баланса пользователя.
В случае недостатка средств пользователь получает уведомление о неуспешной попытке пополнения.
Обработка платежа

Списание средств с выбранного источника.
Перевод денег оператору связи.
Уведомление и обновление баланса

Баланс телефона обновляется автоматически.
Пользователь получает уведомление о выполнении автоплатежа.

### Задание 3

Задание 3. SQL vs NoSQL
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

Приведите ответ в свободной форме.


3.1. Пять преимуществ SQL-систем по отношению к NoSQL
1. Строгая структура данных и поддержка транзакций

SQL-системы гарантируют соблюдение ACID-свойств, что важно для финансовых, банковских и других критичных операций.
Упрощают работу с заранее определенными, четко структурированными данными.

2. Широкая поддержка инструментов и стандартов

SQL — это стандарт, поддерживаемый большинством аналитических и BI-инструментов.
Хорошо изучен и широко используется, что снижает порог входа для разработчиков и администраторов.

3. Мощные возможности для работы с данными

Поддержка сложных запросов (JOIN, агрегатные функции, подзапросы), которые сложно или невозможно выполнить в NoSQL.
Оптимизация запросов встроенными механизмами.

4. Долгосрочное хранение и поддержка целостности данных

SQL-системы предоставляют механизмы, такие как ограничения целостности (PRIMARY KEY, FOREIGN KEY), которые помогают поддерживать правильность и связность данных.

5. Интеграция и совместимость

SQL-системы легко интегрируются с большинством существующих корпоративных решений, таких как ERP, CRM и другие системы управления бизнесом.
Многие SQL-базы поддерживают расширения для работы с JSON, XML и другими типами данных, что добавляет гибкость.

3.1.* Преимущества NewSQL перед SQL и NoSQL
NewSQL — это новый подход, объединяющий преимущества SQL и NoSQL, с учетом современных требований к масштабируемости и производительности. Основные преимущества:

1. Масштабируемость на уровне NoSQL

NewSQL поддерживает горизонтальное масштабирование (добавление новых узлов), что позволяет эффективно обрабатывать большие объемы данных, как в NoSQL.

2. Сохранение транзакционности (ACID)

В отличие от многих NoSQL-систем, NewSQL сохраняет полную поддержку ACID-свойств, что делает такие системы подходящими для критически важных операций.

3. Высокая производительность

Благодаря использованию современных технологий (распределенные вычисления, обработка в памяти), NewSQL-системы показывают производительность, сравнимую или превосходящую NoSQL.

4. Удобство работы с SQL

Поддержка SQL как основного языка запросов делает работу с NewSQL-системами интуитивно понятной и доступной для специалистов, уже работающих с реляционными базами.

5. Гибридный подход

NewSQL-системы (например, CockroachDB, Google Spanner) предлагают гибкость в выборе моделей данных, объединяя традиционные таблицы SQL с возможностями хранения полуструктурированных данных.

### Задание 4

Задание 4. Кластеры
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Приведите ответ в свободной форме.



Выбор типа СУБД и модели распределённых вычислений
Критерии выбора типа СУБД
Объем и структура данных:

Если данные четко структурированы и требуют транзакционной целостности, предпочтительны реляционные (SQL) СУБД с поддержкой горизонтального масштабирования, например, Google Spanner или CockroachDB.
Если данные полуструктурированные или неструктурированные, лучше использовать NoSQL-системы, такие как Apache Cassandra, MongoDB, или HBase, которые отлично масштабируются горизонтально.
Тип нагрузки:

Для аналитических задач и сложных запросов подходит MPP (Massively Parallel Processing) СУБД, такие как Snowflake, Amazon Redshift, или Greenplum.
Для высокочастотных операций записи и чтения с низкой задержкой эффективны NoSQL-системы, например, Cassandra или ScyllaDB.
Масштабируемость и отказоустойчивость:

Необходимость работы с 1000 машин требует горизонтально масштабируемой системы. СУБД должна поддерживать распределенное хранение данных и автоматическое восстановление при сбоях.
Совместимость с распределёнными вычислениями:

СУБД должна легко интегрироваться с системами обработки больших данных, такими как Apache Spark или Hadoop, чтобы эффективно анализировать данные.
Рекомендуемая модель распределённых вычислений
Для обработки данных на 1000 машинах лучше всего подходит MapReduce или системы, работающие на его основе (например, Apache Hadoop и Apache Spark).

Почему:
Обработка больших объемов данных:

MapReduce распределяет задачи между машинами, позволяя обрабатывать терабайты и петабайты данных параллельно.
Масштабируемость:

Apache Spark и Hadoop поддерживают кластер из сотен или тысяч узлов, эффективно распределяя вычисления.
Гибкость в обработке данных:

Spark предоставляет высокоуровневые API для работы с различными форматами данных (стриминг, batch).
Отказоустойчивость:

Spark и Hadoop используют распределенное хранилище (HDFS или аналог) и автоматически восстанавливаются после сбоев узлов.
Интеграция с СУБД:

Большинство современных распределённых систем могут подключаться к различным базам данных, включая SQL (через JDBC/ODBC) и NoSQL (через встроенные коннекторы).





